<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Identification - ENI-Enchères</title>
    <link rel="icon" type="image/x-icon" th:href="@{/favicon.ico}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.16.26/dist/css/uikit.min.css" crossorigin="anonymous" />
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
</head>
<body>
<div class="page-container">
    <!-- Navigation du fil d'Ariane -->
    <div class="breadcrumb">
        <a th:href="@{/}" class="breadcrumb-link">Accueil</a>
        <span class="breadcrumb-separator">›</span>
        <span class="breadcrumb-current">Identification</span>
    </div>

    <!-- Titre de la page -->
    <h1 class="page-title">Identification<span class="accent-dot">.</span></h1>

    <!-- Contenu principal -->
    <div class="content-container">
        <div class="login-info">
            <h2>Connectez-vous pour accéder à votre Espace client</h2>
            <div class="info-decoration">
                <img th:src="@{/images/decoration-leaf.svg}" alt="" class="decoration-image">
            </div>
        </div>

        <div class="login-form-container">
            <!-- Message d'aide -->
            <div class="help-message" th:if="${param.error == null && param.logout == null}">
                <p>Si vous rencontrez des difficultés pour vous connecter, essayez de vider votre cache et de supprimer vos cookies. Si le problème persiste, veuillez vous connecter en utilisant une fenêtre de navigation privée.</p>
            </div>

            <!-- Messages d'erreur/succès -->
            <div th:if="${param.error}" class="alert-message error">
                <p>Identifiants incorrects. Veuillez réessayer.</p>
            </div>
            <div th:if="${param.logout}" class="alert-message success">
                <p>Vous avez été déconnecté avec succès.</p>
            </div>

            <!-- Formulaire de connexion -->
            <form th:action="@{/login}" method="post" class="login-form">
                <div class="form-group">
                    <label for="email">Votre e-mail<span class="required">*</span></label>
                    <input type="email" id="email" name="username" class="form-input" placeholder="Entrez votre e-mail" required>
                    <a th:href="@{/forgot-email}" class="helper-link">Changer l'email de mon compte <span class="arrow">→</span></a>
                </div>

                <div class="form-group">
                    <label for="password">Votre mot de passe<span class="required">*</span></label>
                    <div class="password-container">
                        <input type="password" id="password" name="password" class="form-input" placeholder="Entrez votre mot de passe" required>
                        <button type="button" class="password-toggle" id="togglePassword">Voir</button>
                    </div>
                    <a th:href="@{/forgot-password}" class="helper-link">Mot de passe oublié ? <span class="arrow">→</span></a>
                </div>

                <div class="remember-me">
                    <label class="checkbox-container">
                        <input type="checkbox" name="remember-me">
                        <span class="checkmark"></span>
                        Se souvenir de moi
                    </label>
                </div>

                <div class="form-actions">
                    <button type="submit" class="login-button">
                        Se connecter
                        <span class="button-icon">→</span>
                    </button>
                </div>
            </form>

            <div class="captcha-notice">
                <p>protection par reCAPTCHA</p>
                <div class="captcha-links">
                    <a href="#">Confidentialité</a> - <a href="#">Conditions</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="page-footer">
        <p>© ENI-Enchères</p>
    </footer>
</div>

<!-- Scripts -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const togglePassword = document.getElementById('togglePassword');
        const password = document.getElementById('password');

        togglePassword.addEventListener('click', function() {
            const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
            password.setAttribute('type', type);
            togglePassword.textContent = type === 'password' ? 'Voir' : 'Cacher';
        });
    });
</script>
</body>
</html>